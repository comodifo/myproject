{"remainingRequest":"E:\\vuecli\\Vue Project blank template\\xz_admin_v2\\node_modules\\babel-loader\\lib\\index.js!E:\\vuecli\\Vue Project blank template\\xz_admin_v2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vuecli\\Vue Project blank template\\xz_admin_v2\\src\\components\\subcomponents\\comment.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\vuecli\\Vue Project blank template\\xz_admin_v2\\src\\components\\subcomponents\\comment.vue","mtime":1535610510884},{"path":"E:\\vuecli\\Vue Project blank template\\xz_admin_v2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853417988},{"path":"E:\\vuecli\\Vue Project blank template\\xz_admin_v2\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"E:\\vuecli\\Vue Project blank template\\xz_admin_v2\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from 'mint-ui';\nexport default {\n  data: function data() {\n    return {\n      msg: \"\",\n      pno: 1,\n      list: []\n    };\n  },\n  created: function created() {\n    this.getComment();\n  },\n  methods: {\n    iscomment: function iscomment() {\n      this.$http.post(\"commentlist/postcomment\").then(function (result) {\n        console.log(result);\n      });\n    },\n    getComment: function getComment() {\n      var _this = this;\n\n      var nid = this.id;\n      this.$http.get(\"commentlist/list?nid=\".concat(nid, \"&pno=\").concat(this.pno)).then(function (result) {\n        if (result.body.code == 1) {\n          _this.list = result.body.msg;\n        } else {\n          Toast(\"网络故障请检查\");\n        }\n      });\n    },\n    postcomment: function postcomment() {\n      var _this2 = this;\n\n      var m = this.msg.trim();\n\n      if (m.length < 3) {\n        Toast(\"发表内容过少\");\n        return;\n      }\n\n      var n = this.id;\n      var url = \"commentlist/postcomment?nid=\".concat(n, \"&content=\").concat(m, \"&user_name=lily\");\n      this.$http.get(url).then(function (result) {\n        if (result.body.code == 1) {\n          Toast(result.body.msg);\n          _this2.msg = \"\";\n          history.go(0);\n        }\n      });\n    }\n  },\n  props: [\"id\"]\n};",{"version":3,"sources":["comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAsBA,SAAA,KAAA,QAAA,SAAA;AACA,eAAA;AACA,MADA,kBACA;AAAA,WAAA;AACA,WAAA,EADA;AAEA,WAAA,CAFA;AAGA,YAAA;AAHA,KAAA;AAIA,GALA;AAMA,SANA,qBAMA;AACA,SAAA,UAAA;AACA,GARA;AASA,WAAA;AACA,aADA,uBACA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,yBAAA,EAAA,IAAA,CAAA,kBAAA;AACA,gBAAA,GAAA,CAAA,MAAA;AACA,OAFA;AAGA,KALA;AAMA,cANA,wBAMA;AAAA;;AACA,UAAA,MAAA,KAAA,EAAA;AACA,WAAA,KAAA,CAAA,GAAA,gCAAA,GAAA,kBAAA,KAAA,GAAA,GACA,IADA,CACA,kBAAA;AACA,YAAA,OAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,gBAAA,IAAA,GAAA,OAAA,IAAA,CAAA,GAAA;AACA,SAFA,MAEA;AACA,gBAAA,SAAA;AACA;AACA,OAPA;AAQA,KAhBA;AAiBA,eAjBA,yBAiBA;AAAA;;AACA,UAAA,IAAA,KAAA,GAAA,CAAA,IAAA,EAAA;;AACA,UAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,cAAA,QAAA;AACA;AACA;;AACA,UAAA,IAAA,KAAA,EAAA;AACA,UAAA,4CAAA,CAAA,sBAAA,CAAA,oBAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,YAAA,OAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,gBAAA,OAAA,IAAA,CAAA,GAAA;AACA,iBAAA,GAAA,GAAA,EAAA;AACA,kBAAA,EAAA,CAAA,CAAA;AACA;AACA,OANA;AAOA;AAhCA,GATA;AA2CA,SAAA,CAAA,IAAA;AA3CA,CAAA","sourcesContent":["<template>\r\n    <div class=\"cmt-container\">\r\n        <h3>发表评论</h3>\r\n        <hr/>\r\n        <!--评论列表-->\r\n        <div class=\"cmt-list\">\r\n           <div class=\"cmt-item\" v-for=\"item in list\">\r\n             <div class=\"cmt-title\">\r\n                第{{item.index()}}楼&nbsp;&nbsp;用户：{{item.user_name}} &nbsp;发表时间 {{item.add_time | datetimeFilter}}\r\n             </div>\r\n             <div class=\"cmt-body\">\r\n                {{item.content}}\r\n             </div>\r\n           </div>\r\n        </div>\r\n        <!--发表评论的区域-->\r\n        <textarea placeholder=\"请输入评论内容（最多120字）\"  maxlength=\"120\" v-model=\"msg\">\r\n        </textarea>\r\n        <mt-button type=\"primary\" size=\"large\" @click=\"postcomment\">发表</mt-button>\r\n    </div>\r\n</template>\r\n<script>\r\n  import {Toast} from 'mint-ui'\r\n    export default{\r\n        data(){return {\r\n            msg:\"\",\r\n            pno:1,\r\n            list:[]\r\n        }},\r\n        created() {\r\n            this.getComment();\r\n        },\r\n        methods:{\r\n            iscomment(){\r\n                this.$http.post(\"commentlist/postcomment\").then(result=>{\r\n                    console.log(result);\r\n                })\r\n            },\r\n            getComment(){\r\n                var nid = this.id;\r\n                this.$http.get(`commentlist/list?nid=${nid}&pno=${this.pno}`)\r\n                .then(result=>{\r\n                    if(result.body.code==1){\r\n                        this.list=result.body.msg;\r\n                    }else{\r\n                        Toast(\"网络故障请检查\");\r\n                    }\r\n                })\r\n            },\r\n            postcomment(){\r\n                var m = this.msg.trim();\r\n                if(m.length<3){\r\n                   Toast(\"发表内容过少\");\r\n                   return;\r\n                }\r\n                var n = this.id;\r\n                var url = `commentlist/postcomment?nid=${n}&content=${m}&user_name=lily`;\r\n                this.$http.get(url).then(result=>{\r\n                    if(result.body.code==1){\r\n                        Toast(result.body.msg);\r\n                        this.msg=\"\";\r\n                         history.go(0);\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        props:[\"id\"]\r\n    }\r\n</script>\r\n<style>\r\n /*修改多行文本框*/ \r\n  .cmt-container h3{\r\n      font-size:18px;\r\n  }\r\n  .cmt-container textarea{\r\n      font-size:14px;\r\n      height:85px;\r\n      margin:0;\r\n  }\r\n  /*评论列表*/\r\n  .cmt-container .cmt-list{\r\n      font-size:15px;\r\n      margin:5px 0;\r\n  }\r\n  .cmt-container .cmt-list .cmt-item{\r\n      font-size:13px;\r\n  }\r\n  .cmt-container .cmt-list .cmt-item .cmt-title{\r\n      line-height:30px;\r\n      background-color:#ccc;\r\n  }\r\n  .cmt-container .cmt-list .cmt-item .cmt-body{\r\n      line-height:30px;\r\n      text-indent:1em;\r\n  }\r\n</style>"],"sourceRoot":"src\\components\\subcomponents"}]}